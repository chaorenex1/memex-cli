project_id = "my-project"

[control]
fail_mode = "closed"
decision_timeout_ms = 300000
abort_grace_ms = 5000

[policy]
mode = "auto"
default_action = "deny"

denylist = [
  { tool = "shell.exec", action = "exec", reason = "shell is denied by default" },
  { tool = "net.http", action = "net", reason = "network is denied by default" },
]

allowlist = [
  { tool = "fs.read", action = "read", reason = "read is allowed" },
  { tool = "git.*", reason = "git commands allowed" }
]

[memory]
enabled = true
base_url = "https://memory.internal"
api_key = ""
timeout_ms = 10000
search_limit = 6
min_score = 0.2

[gatekeeper]
max_inject = 3
min_trust_show = 0.40
min_level_inject = 2
min_level_fallback = 1
block_if_consecutive_fail_ge = 3
skip_if_top1_score_ge = 0.85
exclude_stale_by_default = true
active_statuses = ["active", "verified"]

[events_out]
enabled = true
path = "./run.events.jsonl"
channel_capacity = 2048
drop_when_full = true
